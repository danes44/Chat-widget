<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QnA Lumintu Event</title>

    <!-- Script API -->
    <script src="../api.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <!-- <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script> -->
    <!-- Custom styles for this template -->
    <link href="style.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.0/font/bootstrap-icons.css">
    
</head>
<body>
    <div class="container py-4 text-white">
        <div class="d-flex justify-content-between mb-4">
            <div class="d-flex justify-content-start align-items-center">
                <img src="../assets/Logo QnA.svg" class="img-fluid text-center py-3" width="10%" alt="logoQnA">
                <p class="align-middle fw-bold mb-0 ps-3 text-white" style="font-size: 1.6rem;">
                  Dashboard Pertanyaan
                </p>
            </div>
            <div class="align-items-center text-end pt-4">
                <p class="fw-bold mb-0" style="font-size: 1.6rem;">Webinar Pengenalan Diri</p>
                <h6 class="fst-italic mt-0 mb-1">Lumintu Event</h6>
                <h6 id="date-time" class="mb-0"></h6>
            </div>
        </div>
        
        <div class="row pt-3" >
          <div class="col-6">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="fw-bold">Daftar Pertanyaan</h5>
              <h6 id="jumlah-pertanyaan"></h6>
            </div>
            <div class="input-group mb-3">
              <input type="text" id="search-accordion" class="form-control border-0 py-2 px-3 rounded-start" placeholder="Cari pertanyaan..." aria-label="Cari pertanyaan..." aria-describedby="search-addon" style="background-color: white; border-radius: .5rem 0 0 .5rem;"> 
              <button class="input-group-text py-2 border-0 rounded-end" id="search-addon" style="background-color: white; ">
                <i class="bi bi-search"></i>
              </button>
              <button class="input-group-text py-2 border-0 rounded ms-3" id="filter-btn" style="background-color: white; ">
                <i class="bi bi-filter" style="font-size: 20px;"></i>
              </button>
            </div>

              <div class="accordion accordion-flush shadow-lg text-black rounded" id="accordionFlushExample" style="max-height: 560px; overflow-y: auto;">
              
              </div>

            <!-- <div id="accordion">
              <div class="group">
                <h3>
                  <div class="align-items-center " style="width: 90%!important;">
                    <span class="fw-bold mb-2">Frumentius Daneswara</span>
                    <div class="small text-truncate mt-2">Cultivated who resolution connection motionless did occasional. Journey promise if it colonel. Can all mirth abode nor hills added.</div>
                  </div>
                </h3>
                <div>
                  <p>Cras dictum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aenean lacinia mauris vel est. </p><p>Suspendisse eu nisl. Nullam ut libero. Integer dignissim consequat lectus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. </p>
                </div>
              </div>
              <div class="group">
                <h3>
                  <div class="align-items-center " style="width: 90%!important;">
                    <span class="fw-bold mb-2">Frumentius Daneswara</span>
                    <div class="small text-truncate mt-2">Cultivated who resolution connection motionless did occasional. Journey promise if it colonel. Can all mirth abode nor hills added.</div>
                  </div>
                </h3>
                <div>
                  <p>Cras dictum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aenean lacinia mauris vel est. </p><p>Suspendisse eu nisl. Nullam ut libero. Integer dignissim consequat lectus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. </p>
                </div>
              </div>
              <div class="group">
                <h3>
                  <div class="align-items-center " style="width: 90%!important;">
                    <span class="fw-bold mb-2">Frumentius Daneswara</span>
                    <div class="small text-truncate mt-2">Cultivated who resolution connection motionless did occasional. Journey promise if it colonel. Can all mirth abode nor hills added.</div>
                  </div>
                </h3>
                <div>
                  <p>Cras dictum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aenean lacinia mauris vel est. </p><p>Suspendisse eu nisl. Nullam ut libero. Integer dignissim consequat lectus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. </p>
                </div>
              </div>
              <div class="group">
                <h3>
                  <div class="align-items-center " style="width: 90%!important;">
                    <span class="fw-bold mb-2">Frumentius Daneswara</span>
                    <div class="small text-truncate mt-2">Cultivated who resolution connection motionless did occasional. Journey promise if it colonel. Can all mirth abode nor hills added.</div>
                  </div>
                </h3>
                <div>
                  <p>Cras dictum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Aenean lacinia mauris vel est. </p><p>Suspendisse eu nisl. Nullam ut libero. Integer dignissim consequat lectus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. </p>
                </div>
              </div>
            </div> -->

          </div>

          <div class="col-6">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="fw-bold">Daftar Pertanyaan Terpilih</h5>
              <h6 id="jumlah-pertanyaan-terpilih"></h6>
            </div>
            <div class="input-group mb-3">
              <input type="text" id="search-accordion-choose" class="form-control border-0 py-2 px-3 rounded-start" placeholder="Cari pertanyaan..." aria-label="Cari pertanyaan..." aria-describedby="search-addon" style="background-color: white; border-radius: .5rem 0 0 .5rem;"> 
              <button class="input-group-text py-2 border-0 rounded-end" id="search-addon" style="background-color: white; ">
                <i class="bi bi-search"></i>
              </button>
              <button class="input-group-text py-2 border-0 rounded ms-3" id="filter-btn" style="background-color: white; ">
                <i class="bi bi-filter" style="font-size: 20px;"></i>
              </button>
            </div>

              <div class="accordion accordion-flush shadow-lg text-black rounded" id="accordionFlush-choose" style="max-height: 560px; overflow-y: auto;">
                <!-- <div class="accordion-item rounded-top" >
                  <h3 class="accordion-header" id="flush-headingTwo-choose">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo-choose" aria-expanded="false" aria-controls="flush-collapseTwo-choose">
                      <div class="align-items-center " style="width: 90%!important;">
                        <span class="fw-bold mb-2">Frumentius Daneswara</span>
                        <div class="small text-truncate mt-2">Earnest greater on no observe fortune norland. Hunted mrs ham wishes stairs. Continued he as so breakfast shameless. All men drew its post knew. Of talking of calling however civilly wishing resolve.</div>
                      </div>
                    </button>
                  </h3>
                  <div id="flush-collapseTwo-choose" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo-choose" data-bs-parent="#accordionFlush-choose">
                    <div class="accordion-body">
                      <p>Earnest greater on no observe fortune norland. Hunted mrs ham wishes stairs. Continued he as so breakfast shameless. All men drew its post knew. Of talking of calling however civilly wishing resolve.</p>
                      <div class="d-grid gap-2">
                        <button type="button" id="btn-delete" class="btn btn-outline-danger d-block btn-delete">Hapus</button>
                        <button type="button" class="btn btn-outline-success d-block btn-done">Selesai Jawab</button>
                      </div>
                    </div>
                  </div>
                </div> -->
                <h4 class="text-white">Belum Ada Pertanyaan Masuk</h4>
              </div>

          </div>
        </div>

        <div class="row pt-5">
          <div class="col-6">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="fw-bold">Daftar Pertanyaan Terjawab</h5>
              <h6 id="jumlah-pertanyaan-terjawab"></h6>
            </div>
            <div class="input-group mb-3">
              <input type="text" id="search-accordion-answered" class="form-control border-0 py-2 px-3 rounded-start" placeholder="Cari pertanyaan..." aria-label="Cari pertanyaan..." aria-describedby="search-addon" style="background-color: white; border-radius: .5rem 0 0 .5rem;"> 
              <button class="input-group-text py-2 border-0 rounded-end" id="search-addon" style="background-color: white; ">
                <i class="bi bi-search"></i>
              </button>
              <button class="input-group-text py-2 border-0 rounded ms-3" id="filter-btn" style="background-color: white; ">
                <i class="bi bi-filter" style="font-size: 20px;"></i>
              </button>
            </div>

            <div class="accordion accordion-flush shadow-lg text-black rounded" id="accordionFlush-answered" style="max-height: 560px; overflow-y: auto;">
              <!-- <div class="accordion-item rounded-top" >
                <h3 class="accordion-header" id="flush-headingTwo-answered">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo-answered" aria-expanded="false" aria-controls="flush-collapseTwo-answered">
                    <div class="align-items-center " style="width: 90%!important;">
                      <span class="fw-bold mb-2">Frumentius Daneswara</span>
                      <div class="small text-truncate mt-2">Earnest greater on no observe fortune norland. Hunted mrs ham wishes stairs. Continued he as so breakfast shameless. All men drew its post knew. Of talking of calling however civilly wishing resolve.</div>
                    </div>
                  </button>
                </h3>
                <div id="flush-collapseTwo-answered" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo-answered" data-bs-parent="#accordionFlush-answered">
                  <div class="accordion-body">
                    <p>Earnest greater on no observe fortune norland. Hunted mrs ham wishes stairs. Continued he as so breakfast shameless. All men drew its post knew. Of talking of calling however civilly wishing resolve.</p>
                  </div>
                </div>
              </div> -->
            </div>

          </div>

          <!-- chatbox -->
          <div class="col-6">
            <div id="chat-card" class="card border-0 text-black" style="height: 560px;">
              <div class="card-header py-4 px-4 border-0 " style="background-color: #ffffff;">
                  <div class="row justify-content-center">
                      <div class="col-2 align-content-center">
                          <img class="rounded-circle text-center" src="../assets/Logo Lumintu.svg" alt="" width="50px">
                      </div>
                      <div class="col-10">
                          <div class="row">
                              <div class="col-12">
                                  <span class="fw-bold" style="font-size: 1.2rem;">Administrator</span>
                              </div>
                              <div class="col-12">
                                  <span class="" style="font-size: .9rem;">Online</span>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>

              <div id="conversation" class="card-body border-0" style="overflow-x: hidden; overflow-y: auto; background-color: #EBECEF;">
                  <div class="row g-0" id="conversation-container">
                      <div class="col-12 mb-3">
                          <span class="px-3 pt-2 pb-4 chat-bubble float-end text-white position-relative" style="background-color: #38435F; min-width: 10%; max-width: 70%; border-radius: .5rem!important;">
                              a
                              <span class="text-white-50 position-absolute bottom-0 end-0 me-2 mb-1" style="font-size: .8rem;">
                                  7.30
                              </span>
                          </span>
                      </div>
  
                      <div class="col-12 mb-3">
                          <span class="px-3 pt-2 pb-4 chat-bubble float-start position-relative" 
                          style="background-color: #FFFFFF;min-width: 10%; max-width: 70%; border-radius: .5rem!important;">
                              asdhaskldnqoiwndasddddddddddddddddddddddddddddddddasdas
                              <span class="text-black-50 position-absolute bottom-0 end-0 me-2 mb-1" style="font-size: .8rem;">
                                  7.30
                              </span>
                          </span>
                      </div>
                  </div>
              </div>

              <div id="conversation-footer" class="border-0 px-3 py-3" style="border-radius: 0 0 .75rem 0; background-color: #FFFFFF;">
                  <!-- conversation -->
                  <div class="row">
                      <div class="col-11 pe-3">
                          <textarea class="chat-text-area form-control border-0 me-3" 
                          id="textbox-chat" 
                          rows="1" placeholder="Tulis pesan Anda..."
                          style="background-color:#FFFFFF"></textarea>
                      </div>
                      <div class="col-1 text-center">
                          <button class="btn btn-send p-1"  >
                              <img src="../assets/btnSend.svg">
                          </button>
                      </div>
                  </div>
              </div>

          
          </div>
        </div>
        


    </div>
    
    <script>
      // $("#accordionFlushExample")
      // .accordion({
      //     collapsible: true,
      //     header: "> div > h3",
      //     dropOnEmpty: true,
      //     autoHeight: true,
      //     active: false
      // })
      // .sortable({
      //     axis: "y",
      //     stop: function() {
      //         stop1 = true;
      //     },
      //     connectWith: '.connectedSortable',
      //     helper: 'clone',
      //     axis: undefined
      // });

      // $( "#accordion" )
      // .accordion({
      //   collapsible: true,
      //   header: "> div > h3",
      //   dropOnEmpty: true,
      //   autoHeight: true,
      //   active: false
      // })
      // .sortable({
      //   axis: "y",
      //   handle: "h3",
      //   stop: function( event, ui ) {
      //     // IE doesn't register the blur when sorting
      //     // so trigger focusout handlers to remove .ui-state-focus
      //     ui.item.children( "h3" ).triggerHandler( "focusout" );
 
      //     // Refresh accordion to handle new order
      //     $(this).accordion( "refresh" );
      //   }
      // });

      //dapet data dari url untuk dapet ID tiketnya
      var id_tiket = 1;
        var id_tiket_session = 1;
        $.ajax({  
            url: url_ip+'/items/ticket?fields=ticket_id,ticket_type,ticket_x_session.session_id.*,ticket_x_day.day_id.*',  
            type: 'GET',  
            dataType: 'json',  
            success: function(data, textStatus, xhr) { 
                // data.data.map(item => {
                    console.log(data.data[id_tiket-1].ticket_x_session[id_tiket_session-1].session_id.start_time)
                    
                    let time_start = new Date(data.data[id_tiket-1].ticket_x_session[id_tiket_session-1].session_id.start_time)
                    let time_finish = new Date(data.data[id_tiket-1].ticket_x_session[id_tiket_session-1].session_id.finish_time)
                   
                    let day = moment(time_start).format('dddd')
                    let time_begin = moment(time_start).format('HH:mm')
                    let time_end = moment(time_finish).format('HH:mm')
                    let date = moment(time_start).format('LL') 

                    $('#date-time').text(day+", "+date+" | "+time_begin+" - "+time_end+" WIB")
                    // $('#time').text(time_begin+" - "+time_end)

                // }) 
            },
            error: function(xhr, textStatus, errorThrown) {  
                console.log('Error in Database');  
            }
        })

      //dapet data dari url untuk dapet ID customer dengan API
        // let id_customer = [2,3,4,7,11];
        let id_customer = [];
        let name = ""
        $.ajax({  
            url: url_ip+'/items/customer',  
            type: 'GET',  
            //Authorization Header
            beforeSend: function (xhr) {
                xhr.setRequestHeader('Authorization', 'Bearer tokencoba');
            },
            dataType: 'json',  
            success: function(data, textStatus, xhr) { 
              // for(var i = 0; i < data.data.length; i++){
                for( var j = 0; j < id_customer.length; j++ ){
                    name = data.data[j].customer_name

                    $('#accordionFlushExample').append(`
                    <div class="accordion-item rounded-top" id="accordion-item-${j+1}">
                      <h3 class="accordion-header" id="heading-${j+1}">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-${j+1}"" aria-expanded="false" aria-controls="flush-${j+1}"">
                          <div class="align-items-center " style="width: 90%!important;">
                            <span id="customer-${j+1}" class="fw-bold mb-2">${name}</span>
                            <div class="small text-truncate mt-2">Earnest greater on no observe fortune norland. Hunted mrs ham wishes stairs. Continued he as so breakfast shameless. All men drew its post knew. Of talking of calling however civilly wishing resolve.</div>
                          </div>
                        </button>
                      </h3>
                      <div id="flush-${j+1}" class="accordion-collapse collapse" aria-labelledby="heading-${j+1}"" data-bs-parent="#accordionFlush">
                        <div class="accordion-body">
                          <p>Earnest greater on no observe fortune norland. Hunted mrs ham wishes stairs. Continued he as so breakfast shameless. All men drew its post knew. Of talking of calling however civilly wishing resolve.</p>
                          <div class="d-grid gap-2">
                            <button type="button" class="btn btn-outline-primary btn-choose">Pilih</button>
                          </div>
                        </div>
                      </div>
                    </div>`)
                }
                counter()
              // }
              // console.log(name)
              // $('#customer-1').text(name)
            },
            error: function(xhr, textStatus, errorThrown) {  
                console.log('Error in Database');  
            }
            
        })


        

        //kalau API mati pake ini (dummy data)
        // let customer_name = ["Michael Robert","Slippery Hand","Dwayne Johnson","McCarty Sulivan","Handsoap Guy","Buddhi Doremi"];

        // for( var j = 0; j < customer_name.length; j++ ){
        //   // name = data.data[j].customer_name
        //   $('#accordionFlushExample').append(`
        //   <div class="accordion-item rounded-top" id="accordion-item-${j+1}">
        //     <h3 class="accordion-header" id="heading-${j+1}">
        //       <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-${j+1}"" aria-expanded="false" aria-controls="flush-${j+1}"">
        //         <div class="align-items-center " style="width: 90%!important;">
        //           <span id="customer-${j+1}" class="fw-bold mb-2">${customer_name[j]}</span>
        //           <div class="small text-truncate mt-2">Earnest greater on no observe fortune norland. Hunted mrs ham wishes stairs. Continued he as so breakfast shameless. All men drew its post knew. Of talking of calling however civilly wishing resolve.</div>
        //         </div>
        //       </button>
        //     </h3>
        //     <div id="flush-${j+1}" class="accordion-collapse collapse" aria-labelledby="heading-${j+1}"" data-bs-parent="#accordionFlush">
        //       <div class="accordion-body">
        //         <p>Earnest greater on no observe fortune norland. Hunted mrs ham wishes stairs. Continued he as so breakfast shameless. All men drew its post knew. Of talking of calling however civilly wishing resolve.</p>
        //         <div class="d-grid gap-2">
        //           <button type="button" class="btn btn-outline-primary btn-choose">Pilih</button>
        //         </div>
        //       </div>
        //     </div>
        //   </div>`)
        // }
              

        //search accordion question pool
        $("#search-accordion").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            
            $("#accordionFlushExample .accordion-item").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
            counter()
        });

        //search accordion selected question pool
        $("#search-accordion-choose").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            
            $("#accordionFlush-choose .accordion-item").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
            counter()
        });
        
        //search accordion answered question pool
        $("#search-accordion-answered").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            
            $("#accordionFlush-answered .accordion-item").filter(function() {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
            counter()
        });

        //fungsi pindah accordion ke section terpilih
        $("body").on("click", '.btn-choose', function() {
          var cust_name = $(this).parent().parent().parent().siblings().children().children().children('span').text()
          var cust_message = $(this).parent().parent().parent().siblings().children().children().children('div').text()
          var parent_element = $(this).parent().parent().parent().parent().attr('id')

          //get id accordion header number
          var id_accordion_header = $(this).parent().parent().parent().siblings().attr('id')
          var id_numb = id_accordion_header.split("-")

          //get customer id number
          var id_customer = $(this).parent().parent().parent().siblings().children().children()

          var id_accordion = $(this).parent().parent().parent().attr('id')
          
          let elements=`<div class="accordion-item" id="${parent_element}">
                          <h3 class="accordion-header" id="heading-${id_numb[1]}-choose">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-${id_numb[1]}-choose" aria-expanded="false" aria-controls="flush-${id_numb[1]}-choose">
                              <div class="align-items-center " style="width: 90%!important;">
                                <span id="${id_numb[1]}" class="fw-bold mb-2">${cust_name}</span>
                                <div class="small text-truncate mt-2">${cust_message}</div>
                                </div>
                            </button>
                          </h3>
                          <div id="flush-${id_numb[1]}-choose" class="accordion-collapse collapse" aria-labelledby="heading-${id_numb[1]}-choose" data-bs-parent="#accordionFlush-choose">
                            <div class="accordion-body">
                              <p>${cust_message}</p>
                              <div class="d-grid gap-2">
                                <button type="button" id="btn-delete" class="btn btn-outline-danger d-block btn-delete">Hapus</button>
                                <button type="button" class="btn btn-outline-success d-block btn-done">Selesai Jawab</button>
                              </div>
                            </div>
                          </div>
                        </div>`

          $("#accordionFlush-choose").append(elements);
          $("#"+parent_element).remove()
          console.log(parent_element)
          counter()
        })

        //fungsi pindah accordion ke section awal
        $("body").on("click", ".btn-delete", function() {
          var cust_name = $(this).parent().parent().parent().siblings().children().children().children('span').text()
          var cust_message = $(this).parent().parent().parent().siblings().children().children().children('div').text()
          var parent_element = $(this).parent().parent().parent().parent().attr('id')

          //get id accordion header number
          var id_accordion_header = $(this).parent().parent().parent().siblings().attr('id')
          var id_numb = id_accordion_header.split("-")

          //get customer id number
          var id_customer = $(this).parent().parent().parent().siblings().children().children()

          var id_accordion = $(this).parent().parent().parent().attr('id')
          console.log(parent_element)
          
          $("#"+parent_element).remove()
          let elements=`<div class="accordion-item" id="${parent_element}">
                          <h3 class="accordion-header" id="heading-${id_numb[1]}">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-${id_numb[1]}" aria-expanded="false" aria-controls="flush-${id_numb[1]}">
                              <div class="align-items-center " style="width: 90%!important;">
                                <span class="fw-bold mb-2" id="${id_customer}">${cust_name}</span>
                                <div class="small text-truncate mt-2">${cust_message}</div>
                              </div>
                            </button>
                          </h3>
                          <div id="flush-${id_numb[1]}" class="accordion-collapse collapse" aria-labelledby="heading-${id_numb[1]}" data-bs-parent="#accordionFlush">
                            <div class="accordion-body">
                              <p>${cust_message}</p>
                              <div class="d-grid gap-2">
                                <button type="button" class="btn btn-outline-primary btn-choose">Pilih</button>
                              </div>
                            </div>
                          </div>
                        </div>`

          $("#accordionFlushExample").append(elements);
          counter()
        })

        //fungsi pindah accordion ke section terjawab
        $("body").on("click", ".btn-done", function() {
          var cust_name = $(this).parent().parent().parent().siblings().children().children().children('span').text()
          var cust_message = $(this).parent().parent().parent().siblings().children().children().children('div').text()
          var parent_element = $(this).parent().parent().parent().parent().attr('id')

          //get id accordion header number
          var id_accordion_header = $(this).parent().parent().parent().siblings().attr('id')
          var id_numb = id_accordion_header.split("-")

          //get customer id number
          var id_customer = $(this).parent().parent().parent().siblings().children().children()

          var id_accordion = $(this).parent().parent().parent().attr('id')
          console.log(parent_element)
          
          $("#"+parent_element).remove()
          let elements=`<div class="accordion-item" id="${parent_element}">
                          <h3 class="accordion-header" id="heading-${id_numb[1]}-answered">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-${id_numb[1]}-answered" aria-expanded="false" aria-controls="flush-${id_numb[1]}-answered">
                              <div class="align-items-center " style="width: 90%!important;">
                                <span id="${id_numb[1]}" class="fw-bold mb-2">${cust_name}</span>
                                <div class="small text-truncate mt-2">${cust_message}</div>
                                </div>
                            </button>
                            </h3>
                          <div id="flush-${id_numb[1]}-answered" class="accordion-collapse collapse" aria-labelledby="heading-${id_numb[1]}-answered" data-bs-parent="#accordionFlush-answered">
                            <div class="accordion-body">
                              <p>${cust_message}</p>
                            </div>
                          </div>
                        </div>`

          $("#accordionFlush-answered").append(elements);
          // console.log("."+parent_class[0]+"."+parent_class[1])
          // $("."+parent_class[0]+"."+parent_class[1]).remove()
          counter()
        })



        // $("#accordionFlush-choose  .accordion-item").draggable({
        //  appendTo: "body",
        //  helper: "clone"
        // });
        // $("#accordionFlushExample .accordion-item").droppable({
        //     drop: function (event, ui) {
        //         var content = ui.draggable.next();
        //         ui.draggable.draggable('disable').appendTo(this);
        //         content.appendTo(this);
        //         $("#accordionFlushExample").accordion('destroy').accordion();
        //         $("#accordionFlush-choose").accordion('destroy').accordion();
        //     }
        // });

        //sort accordion
        // $('.accordion').sortable();
        // $('.accordion').on("show.bs.collapse", function(){ 
        //   $('.accordion').sortable('disable'); });
        // $('.accordion').on("hide.bs.collapse", function(){ 
        //   $('.accordion').sortable('enable'); });

        // $('#accordionFlushExample').sortable({
        //     change: function(event, ui) {
        //         ui.placeholder.css
        //         ({
        //           visibility: 'visible', 
        //           border : '5px solid yellow'
        //         });
        //     },
        //     items: '.accordion'
        // }).bind('sortupdate', function(e, ui) {
        //     console.log('make ajax');
        // });
        
        counter();

        function counter() {
          $('#jumlah-pertanyaan').text("Jumlah : " + $('#accordionFlushExample .accordion-item').length)
          $('#jumlah-pertanyaan-terpilih').text("Jumlah : " +$('#accordionFlush-choose .accordion-item').length)
          $('#jumlah-pertanyaan-terjawab').text("Jumlah : " +$('#accordionFlush-answered .accordion-item').length)

        }
        

        
    </script>
    <script src="chat.js"></script>
    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <!-- moment Js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment-with-locales.min.js"></script>
    <script>
      moment.locale('id');
      console.log(moment(Date.now()).fromNow());
    </script>

  </body>
</html>