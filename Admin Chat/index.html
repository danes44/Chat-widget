<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QnA Lumintu Event</title>

    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <!-- Custom styles for this template -->
    <link href="style.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.0/font/bootstrap-icons.css">
    
</head>
<body>
    <div class="container py-4 text-white">
        <div class="d-flex justify-content-between mb-4">
            <div class="d-flex justify-content-start align-items-center">
                <img src="../assets/Logo QnA.svg" class="img-fluid text-center py-3" width="14%" alt="...">
                <h2 class="align-middle fw-bold mb-0 ps-3 text-white">Dashboard</h2>
            </div>
            <div class="align-items-center text-end pt-4">
                <p class="fw-bold mb-0" style="font-size: 1.6rem;">Webinar Pengenalan Diri</p>
                <h6 class="fst-italic mt-0 mb-1">Lumintu Event</h6>
                <h6 id="date-time" class="mb-0"></h6>
            </div>
        </div>
        
        <div class="row pt-3">
          <div class="col-6">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="fw-bold">Daftar Pertanyaan</h5>
              <h6 class="">Jumlah : 12</h6>
            </div>
            <div class="input-group mb-3">
              <input type="text" class="form-control border-0 py-2 px-3 rounded-start" placeholder="Cari pertanyaan..." aria-label="Cari pertanyaan..." aria-describedby="search-addon" style="background-color: white; border-radius: .5rem 0 0 .5rem;"> 
              <button class="input-group-text py-2 border-0 rounded-end" id="search-addon" style="background-color: white; ">
                <i class="bi bi-search"></i>
              </button>
              <button class="input-group-text py-2 border-0 rounded text-white" id="filter-btn" style="background-color: transparent; ">
                <i class="bi bi-filter" style="font-size: 20px;"></i>
              </button>
            </div>

            <!-- <div class="card border-0 shadow-lg text-black"> -->
              <div class="accordion accordion-flush shadow-lg text-black rounded-top" id="accordionFlushExample" >
                <div class="accordion-item rounded-top" >
                  <h3 class="accordion-header" id="flush-headingOne">
                    <button class="accordion-button collapsed"  type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                      <div class="align-items-center " style="width: 90%!important;">
                        <span id="customer-1" class="fw-bold mb-2"></span>
                        <div class="small text-truncate mt-2">New mes asda sdsad asdasdasdasdasdasdsasage for you asdasdasdasda</div>
                      </div>
                    </button>
                  </h3>
                  <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the first item's accordion body.</div>
                  </div>
                </div>
                <div class="accordion-item" >
                  <h3 class="accordion-header" id="flush-headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                      <div class="align-items-center " style="width: 90%!important;">
                        <span class="fw-bold mb-2">Frumentius Daneswara</span>
                        <div class="small text-truncate mt-2">New mes asda sdsad asdasdasdasdasdasdsasage for you asdasdasdasda</div>
                      </div>
                    </button>
                  </h3>
                  <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the second item's accordion body. Let's imagine this being filled with some actual content.</div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h3 class="accordion-header" id="flush-headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                      <div class="align-items-center " style="width: 90%!important;">
                        <span class="fw-bold mb-2">Frumentius Daneswara</span>
                        <div class="small text-truncate mt-2">New mes asda sdsad asdasdasdasdasdasdsasage for you asdasdasdasda</div>
                      </div>
                    </button>
                  </h3>
                  <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">Placeholder content for this accordion, which is intended to demonstrate the <code>.accordion-flush</code> class. This is the third item's accordion body. Nothing more exciting happening here in terms of content, but just filling up the space to make it look, at least at first glance, a bit more representative of how this would look in a real-world application.</div>
                  </div>
                </div>
              </div>
            <!-- </div> -->
          </div>

          <div class="col-6">
              
          </div>
        </div>
        


    </div>
    
    <script>

      //dapet data dari url untuk dapet ID tiketnya
      var id_tiket = 1;
        var id_tiket_session = 1;
        $.ajax({  
            url: 'http://192.168.18.82:8055/items/ticket?fields=ticket_id,ticket_type,ticket_x_session.session_id.*,ticket_x_day.day_id.*',  
            type: 'GET',  
            dataType: 'json',  
            success: function(data, textStatus, xhr) { 
                // data.data.map(item => {
                    console.log(data.data[id_tiket-1].ticket_x_session[id_tiket_session-1].session_id.start_time)
                    
                    let time_start = new Date(data.data[id_tiket-1].ticket_x_session[id_tiket_session-1].session_id.start_time)
                    let time_finish = new Date(data.data[id_tiket-1].ticket_x_session[id_tiket_session-1].session_id.finish_time)
                   
                    let day = moment(time_start).format('dddd')
                    let time_begin = moment(time_start).format('LT')
                    let time_end = moment(time_finish).format('LT')
                    let date = moment(time_start).format('LL') 

                    $('#date-time').text(day+", "+date+" | "+time_begin+" - "+time_end)
                    // $('#time').text(time_begin+" - "+time_end)

                // }) 
            },
            error: function(xhr, textStatus, errorThrown) {  
                console.log('Error in Database');  
            }
        })

      //dapet data dari url untuk dapet ID customer 
        let id_customer = 2;
        let name = ""
        $.ajax({  
            url: 'http://192.168.18.82:8055/items/customer',  
            type: 'GET',  
            dataType: 'json',  
            success: function(data, textStatus, xhr) { 
              for(var i = 0; i < data.data.length; i++){
                if( data.data[i].customer_id === id_customer ){
                    name = data.data[i].customer_name
                }
              }
              console.log(name)
              $('#customer-1').text(name)
            },
            error: function(xhr, textStatus, errorThrown) {  
                console.log('Error in Database');  
            }
        })

    </script>
    <script src="chat.js"></script>
    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <!-- moment Js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>
</html>